<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            min-width: 1000px;
            overflow: hidden;
        }

        body > div:first-child {
            font-size: 1.2rem;
        }

        #main {
            display: flex;
            padding-top: 60px;
        }

        #panel {
            width: 360px;
            height: 650px;
            border-right: solid 1px;
            margin-right: 50px;
        }

        #app {
            width: 520px;
            height: 520px;
            border-bottom: solid 1px #0002;
            border-right: solid 1px #0002;
            background-image: linear-gradient(90deg, rgba(0, 0, 0, 0.15) 2.5%, transparent 2.5%), linear-gradient( rgba(0, 0, 0, 0.15) 2.5%, transparent 2.5%);
            background-size: 40px 40px;
            background-repeat: repeat;
            display: grid;
            grid-template-columns: repeat(13, 40px);
            grid-template-rows: repeat(13, 40px);
        }

        #app > div {
            text-align: center;
            font-size: 1.8rem;
            line-height: 48px;;
        }

        .buttons {
            width: 180px;
            height: 180px;
            display: grid;
            margin: auto;
            grid-template-columns: repeat(3, 60px);
            grid-template-rows: repeat(3, 60px);
            padding-bottom: 30px;
        }

        .pass, .comparator, .trash {
            border: dashed 1px #0005;
            padding: 5px;
            box-sizing: border-box;
            cursor: pointer;
        }

        .running .pass,
        .running .comparator,
        .running .trash {
            cursor: not-allowed;
        }

        .pass {
            margin: 20px 10px;
            line-height: 10px;
            font-size: 0.5rem;
        }
        .pass::before {
            content: '>>';
        }
        .pass::after {
            content: '>>';
        }

        .comparator {
            margin: 10px 20px;
            border-bottom-right-radius: 50%;
            border-bottom-left-radius: 50%;
        }
        .comparator::before {
            content: '+';
            margin-left: -10px;
        }
        .comparator::after {
            content: '+';
            margin-left: 10px;
        }

        .comparator.red::before {
            color: red;
        }
        .comparator.green::before {
            color: green;
        }

        .comparator.blue::after {
            color: blue;
        }
        .comparator.yellow::after {
            color: orange;
        }

        .red {
            color: red;
        }

        .blue {
            color: blue;
        }

        .green {
            color: green;
        }

        .yellow {
            color: orange;
        }

        .trash {
            margin: 20px;
        }

        .trash::before {
            line-height: 10px;
            font-size: 0.5rem;
            content: 'x'
        }

        .hide {
            visibility: hidden;
        }

        #io, #result {
            padding-top: 20px;
            font-size: 1.3rem;
        }

        #io i {
            font-style: normal;
        }

        .info, .task, .run {
            width: 200px;
            box-sizing: border-box;
            font-size: .8rem;
            padding: 20px;
            margin: auto;
        }

        .info {
            border-top: dashed 1px;
            border-bottom: dashed 1px;
        }

        .task {
            min-height: 130px;
            border-bottom: dashed 1px;
        }

        #mousePick {
            position: absolute;
            display: inline-block;
            width: 60px;
            height: 60px;
            opacity: 0.8;
            pointer-events: none;
        }

        .normal > div {
            position: absolute;
            line-height: 30px;
            pointer-events: none;
        }


        #mousePick > div.trash {
            height: 20px;
            width: 20px;
        }

        .normal .pass {
            margin: 0;
        }

        .normal .comparator {
            margin: 0 10px;
            width: 20px;
            font-size: 1rem;
        }

        .flag::after {
            content: "ğŸš©";
        }

        .start {
            background-color: mistyrose;
            opacity: 0.4;
        }

        *[data-turn="1"] {
            transform: rotate(.25turn);
        }
        *[data-turn="2"] {
            transform: rotate(.5turn);
        }
        *[data-turn="3"] {
            transform: rotate(.75turn);
        }

        *[data-flip="1"] {
            transform: scale(-1, 1);
        }
        *[data-turn="1"][data-flip="1"] {
            transform: rotate(.25turn) scale(-1, 1);
        }
        *[data-turn="2"][data-flip="1"] {
            transform: rotate(.5turn) scale(-1, 1);
        }
        *[data-turn="3"][data-flip="1"] {
            transform: rotate(.75turn) scale(-1, 1);
        }

        .run {
            padding-top: 30px;
        }

        .btn {
            display: block;
            cursor: pointer;
            border: none;
            background: transparent;
            margin-bottom: 20px;
            padding: 0;
        }

        #runBtn {
            width: 0px;
            height: 0px;
            border: solid 10px transparent;
            border-left-width: 12px;
            border-left-color: gray;
        }

        #pauseBtn {
            width: 0px;
            height: 0px;
            border-radius: 50%;
            border: solid 8px transparent;
            border-color: gray;
        }

        #stopBtn {
            width: 0px;
            height: 0px;
            border: solid 8px transparent;
            border-color: gray;
        }

        #runBtn::after {
            content: "è¿è¡Œ";
            width: 30px;
            display: inline-block;
            transform: translate(10px,-10px);
        }

        #pauseBtn::after {
            content: "æš‚åœ";
            width: 30px;
            display: inline-block;
            transform: translate(15px,-10px);
        }

        #stopBtn::after {
            content: "åœæ­¢";
            width: 30px;
            display: inline-block;
            transform: translate(15px,-10px);
        }

        #robot {
            position: absolute;
            transition: all linear .2s;
        }

        #robot::after {
            font-size: 1.8rem;
            content: 'ğŸ¤–';
            margin: 5px;
        }

        .btn.tap {
            transform: translate(5px, 5px);
        }

        #io > i {
            width: 1.4rem;
            display: inline-block;
            transition: all .2s;
        }

        #result span:first-of-type {
            margin-left: 10px;
        }

        #result span {
            color: red;
        }

        #result span.accept {
            color: green;
        }

        #app .empty {
            background:rgba(0, 0, 0, 0.15);
        }

        #app .empty::before,
        #app .empty::after {
            content: ' ';
            display: inline-block;
            position: relative;
            width: 3px;
            height: 30px;
            background: #ccc;
        }
        #app .empty::before {
            left: 1px;
            transform: rotate(30deg);
        }

        #app .empty::after {
            left: -1px;
            transform: rotate(-30deg);
        }
    </style>
</head>
<body>
<div>ğŸ¤–ğŸ”´ğŸŸ¡ğŸ”µğŸŸ¢ğŸš© <span>ç¬¬ <select id="levelPicker"><option>1</option></select> å…³</span></div>
<div id="main">
    <div id="panel">
        <div class="buttons">
            <div class="pass green" title="ç»¿è‰²é€šé“ï¼šğŸ¤–é€šè¿‡æ—¶å°†ğŸŸ¢æ·»åŠ åˆ°åºåˆ—å°¾éƒ¨" data-turn=0 data-flip=0></div>
            <div class="pass yellow" title="é»„è‰²é€šé“ï¼šğŸ¤–é€šè¿‡æ—¶å°†ğŸŸ¡æ·»åŠ åˆ°åºåˆ—å°¾éƒ¨" data-turn=0 data-flip=0></div>
            <div class="comparator green yellow" title="é»„ç»¿æ¯”è¾ƒå™¨ï¼šğŸ¤–é€šè¿‡æ—¶è¯»å–åºåˆ—å¤´éƒ¨å…ƒç´ æ ¹æ®é¢œè‰²åˆ¤æ–­è·¯å¾„" data-turn=0 data-flip=0></div>
            <div class="pass red" title="çº¢è‰²é€šé“ï¼šğŸ¤–é€šè¿‡æ—¶å°†ğŸ”´æ·»åŠ åˆ°åºåˆ—å°¾éƒ¨" data-turn=0 data-flip=0></div>
            <div class="pass blue" title="è“è‰²é€šé“ï¼šğŸ¤–é€šè¿‡æ—¶å°†ğŸ”µæ·»åŠ åˆ°åºåˆ—å°¾éƒ¨" data-turn=0 data-flip=0></div>
            <div class="comparator red blue" title="çº¢è“æ¯”è¾ƒå™¨ï¼šğŸ¤–é€šè¿‡æ—¶è¯»å–åºåˆ—å¤´éƒ¨å…ƒç´ æ ¹æ®é¢œè‰²åˆ¤æ–­è·¯å¾„" data-turn=0 data-flip=0></div>
            <div class="pass" title="é€šé“" data-turn=0 data-flip=0></div>
            <div class="trash" title="æ¸…é™¤"></div>
        </div>
        <div class="info">
            è¯´æ˜ï¼šé¼ æ ‡é€‰æ‹©ä¸Šæ–¹å…ƒä»¶æ·»åŠ åˆ°å³ä¾§é¢æ¿ä¸­ï¼Œé”®ç›˜ä¸Šä¸‹å·¦å³æ—‹è½¬ï¼Œç©ºæ ¼ç¿»è½¬ã€‚
        </div>
        <div class="task" id="taskInfo"></div>
        <div class="run">
            <button class="btn" id="runBtn"></button>
            <button class="btn" id="stopBtn"></button>
        </div>
    </div>
    <div>
        <div id="app"></div>
        <div id="io">åºåˆ— â† <i>â¤ï¸</i><i>ğŸ’™</i></div>
        <div id="result">ç»“æœ â†’ </div>
    </div>
</div>
<div id="mousePick">
</div>
</body>
<script>
    function enablePicker() {
        const buttons = panel.querySelector('.buttons');
        buttons.addEventListener('mousedown', ({target}) => {
            if(main.className !== 'running' && target !== buttons && target.className) {
                // console.log(target);
                const node = target.cloneNode(true);
                mousePick.innerHTML = '';
                mousePick.appendChild(node);
            }
        });
        window.addEventListener('mousemove', ({x, y}) => {
            mousePick.style.left = `${x - 25}px`;
            mousePick.style.top = `${y - 25}px`;
        });
        window.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            return false;
        });
        window.addEventListener('mouseup', ({target}) => {
            if(target.parentNode !== buttons && target.className !== 'normal') {
                mousePick.innerHTML = '';
            }
        });
        window.addEventListener('keydown', ({key}) => {
            const el = mousePick.children[0];
            if(!el || el.className === 'trash') return;
            // console.log(key);
            if(key === 'ArrowRight') {
                el.dataset.turn = 0;
            } else if(key === 'ArrowDown') {
                el.dataset.turn = 1;
            } else if(key === 'ArrowLeft') {
                el.dataset.turn = 2;
            } else if(key === 'ArrowUp') {
                el.dataset.turn = 3;
            } else if(key === ' ') {
                let n = Number(el.dataset.flip) || 0;
                el.dataset.flip = ++n % 2;
            }
            if(key.startsWith('Arrow') && el.classList.contains('comparator')) {
                el.dataset.turn = (Number(el.dataset.turn) + 3) % 4;
            }
        });
    }

    function init(board = []) {
        app.innerHTML = '';
        for(let i = 0; i < 169; i++) {
            const cell = document.createElement('div');
            const x = Math.floor(i / 13);
            const y = i % 13;
            if(board[i] === 2) {
                // ç»ˆç‚¹
                cell.className = 'flag';
            } else if(board[i] === 1) {
                // èµ·ç‚¹
                cell.className = 'start';
            } else if(board[i] === -1) {
                cell.className = 'empty';
            } else {
                cell.className = 'normal';
            }
            cell.dataset.x = x;
            cell.dataset.y = y;
            app.appendChild(cell);
        }
        if(!app._eventHandler) {
            app._eventHandler = true;
            app.addEventListener('click', ({target}) => {
                if(target !== app && target.className === 'normal') {
                    const el = mousePick.children[0];
                    if(el) {
                        if(el.className === 'trash') {
                            target.innerHTML = '';
                            saveLevel();
                            return;
                        }
                        const item = el.cloneNode(true);
                        const children = target.children;
                        if(children.length === 2) { // äº¤å‰åå­—
                            target.innerHTML = '';
                        } else if(children.length === 1) {
                            // å·²æœ‰å…ƒç´ 
                            if(!item.classList.contains('pass')
                                || !children[0].classList.contains('pass')
                                || !((Number(children[0].dataset.turn) + Number(item.dataset.turn)) % 2)) {
                                target.innerHTML = '';
                            }
                        }
                        target.appendChild(item);
                    }
                }
                saveLevel();
            });
        }
    }

    function setRobot() {
        const start = app.querySelector('.start');
        const row = Number(start.dataset.x);
        const col = Number(start.dataset.y);
        let {x, y} = app.getBoundingClientRect();
        x = x + col * 40;
        y = y + row * 40;
        const el = document.getElementById('robot') || document.createElement('div');
        el.id = 'robot';
        el.style.left = `${x}px`;
        el.style.top = `${y}px`;
        el.dataset.x = x;
        el.dataset.y = y;
        el.dataset.row = row;
        el.dataset.col = col;
        el.dataset.fromDirection = '';
        document.body.appendChild(el);
    }

    function moveRobot(direction) {
        let x = Number(robot.dataset.x);
        let y = Number(robot.dataset.y);
        let row = Number(robot.dataset.row);
        let col = Number(robot.dataset.col);
        let fromDirection = '';
        if(direction === 'left') {
            x -= 40;
            col--;
            fromDirection = 'right';
        } else if(direction === 'right') {
            x += 40;
            col++;
            fromDirection = 'left';
        } else if(direction === 'up') {
            y -= 40;
            row--;
            fromDirection = 'down';
        } else if(direction === 'down') {
            y += 40;
            row++;
            fromDirection = 'up';
        }
        robot.style.left = `${x}px`;
        robot.style.top = `${y}px`;
        robot.dataset.x = x;
        robot.dataset.y = y;
        robot.dataset.row = row;
        robot.dataset.col = col;
        robot.dataset.fromDirection = fromDirection;
        // console.log(row, col, robot);

        return new Promise(resolve => {
            robot.addEventListener('transitionend', () => {
                // console.log(row, col, robot.dataset.row, robot.dataset.col);
                resolve(robot);
            }, {once: true});
            // é˜²æ­¢æµè§ˆå™¨transitionendäº‹ä»¶æœ‰æ—¶å€™ä¸è¢«è§¦å‘
            setTimeout(() => resolve(robot), 220);
        });
    }

    function setDataList(list = []) {
        io.innerHTML = "åºåˆ— â† ";
        for(let i = 0; i < list.length; i++) {
            const el = document.createElement('i');
            el.innerHTML = list[i];
            io.appendChild(el);
        }
    }

    function getTopData() {
        const item = io.querySelector('i');
        if(item) return item.innerHTML;
        else return null;
    }

    function popData() {
        const item = io.querySelector('i');
        item.style.width = 0;
        return new Promise(resolve => {
            item.addEventListener('transitionend', () => {
                item.remove();
                resolve(item);
            }, {once: true});
            // é˜²æ­¢æµè§ˆå™¨transitionendäº‹ä»¶æœ‰æ—¶å€™ä¸è¢«è§¦å‘
            setTimeout(() => {
                item.remove();
                resolve(item);
            }, 220);
        });
    }

    function appendData(data = 'ğŸ”´') {
        const el = document.createElement('i');
        el.innerHTML = data;
        io.appendChild(el);
    }

    function getIOData() {
        const list = io.querySelectorAll('i');
        let ret = '';
        for(let i = 0; i < list.length; i++) {
            ret += list[i].innerHTML;
        }
        return ret;
    }

    function getRobotCell() {
        let x = Number(robot.dataset.row);
        let y = Number(robot.dataset.col);
        const cell = document.querySelector(`#app > div[data-x="${x}"][data-y="${y}"]`);
        return cell;
    }

    function checkCell(cell, fromDirection) {
        const ret = {
            direction: null,
            effect: null,
            type: null,
            data: false,
        };

        const children = cell.children;
        if(children.length) {
            for(let i = 0; i < children.length; i++) {
                const el = children[i];
                const flip = el.dataset.flip;
                const turn = el.dataset.turn;
                if(el.classList.contains('pass')) {
                    ret.type = 'pass';
                    // é€šé“
                    if(children.length > 1) {
                        // äº¤å‰é€šé“
                        if(fromDirection === 'up' || fromDirection === 'down') {
                            if(turn === '0' || turn === '2') continue;
                        }
                        if(fromDirection === 'left' || fromDirection === 'right') {
                            if(turn === '1' || turn === '3') continue;
                        }
                    }
                    if(turn === '0') ret.direction = 'right';
                    if(turn === '1') ret.direction = 'down';
                    if(turn === '2') ret.direction = 'left';
                    if(turn === '3') ret.direction = 'up';
                    if(el.classList.contains('red')) ret.effect = 'ğŸ”´';
                    if(el.classList.contains('green')) ret.effect = 'ğŸŸ¢';
                    if(el.classList.contains('yellow')) ret.effect = 'ğŸŸ¡';
                    if(el.classList.contains('blue')) ret.effect = 'ğŸ”µ';
                } else if(el.classList.contains('comparator')) {
                    // æ¯”è¾ƒå™¨
                    ret.type = 'comparator';
                    const data = getTopData();
                    if(data === 'ğŸ”´' && el.classList.contains('red')) {
                        if(turn === '0') ret.direction = 'left';
                        if(turn === '1') ret.direction = 'up';
                        if(turn === '2') ret.direction = 'right';
                        if(turn === '3') ret.direction = 'down';
                        ret.data = true;
                    } else if(data === 'ğŸŸ¢' && el.classList.contains('green')) {
                        if(turn === '0') ret.direction = 'left';
                        if(turn === '1') ret.direction = 'up';
                        if(turn === '2') ret.direction = 'right';
                        if(turn === '3') ret.direction = 'down';
                        ret.data = true;
                    } else if(data === 'ğŸ”µ' && el.classList.contains('blue')) {
                        if(turn === '0') ret.direction = 'right';
                        if(turn === '1') ret.direction = 'down';
                        if(turn === '2') ret.direction = 'left';
                        if(turn === '3') ret.direction = 'up';
                        ret.data = true;
                    } else if(data === 'ğŸŸ¡' && el.classList.contains('yellow')) {
                        if(turn === '0') ret.direction = 'right';
                        if(turn === '1') ret.direction = 'down';
                        if(turn === '2') ret.direction = 'left';
                        if(turn === '3') ret.direction = 'up';
                        ret.data = true;
                    } else {
                        if(turn === '0') ret.direction = 'down';
                        if(turn === '1') ret.direction = 'left';
                        if(turn === '2') ret.direction = 'up';
                        if(turn === '3') ret.direction = 'right';
                    }
                }
                if(flip === '1') {
                    // ç¿»è½¬äº¤æ¢
                    if(turn === '0' || turn === '2') {
                        if(ret.direction === 'left') ret.direction = 'right';
                        else if(ret.direction === 'right') ret.direction = 'left';
                    } else {
                        if(ret.direction === 'up') ret.direction = 'down';
                        else if(ret.direction === 'down') ret.direction = 'up';
                    }
                }
            }
        }
        // console.log(ret);
        return ret;
    }

    function checkState() {
        const cell = getRobotCell();
        const fromDirection = robot.dataset.fromDirection;
        let state = {
            direction: null,
            effect: null,
            accepted: false,
            fromDirection,
        };
        if(cell.className === 'flag') {
            state.accepted = true;
        } else if(cell.className !== 'start') {
            state = {
                ...state,
                ...checkCell(cell, fromDirection),
            };
        }
        return state;
    }

    function initResult() {
        result.innerHTML = 'ç»“æœ â†’';
    }

    function appendResult(success = false) {
        const r = success ? 'A' : 'E';
        const el = document.createElement('span');
        el.innerHTML = r;
        if(success) el.className = 'accept';
        result.appendChild(el);
    }

    function sleep(ms = 10) {
        return new Promise(resolve => {
            setTimeout(resolve, ms);
        });
    }

    runBtn.addEventListener('mousedown', async () => {
        mousePick.innerHTML = '';
        runBtn.className = 'btn tap';
        runBtn.disabled = true;
        main.className = 'running';
        await run();
    });
    stopBtn.addEventListener('mousedown', () => {
        mousePick.innerHTML = '';
        stopBtn.className = 'btn tap';
        main.className = '';
        // setRobot();
    });
    window.addEventListener('mouseup', () => {
        if(stopBtn.className === 'btn tap') {
            stopBtn.className = 'btn';
            // runBtn.disabled = false;
            // runBtn.className = 'btn';
        }
    });

    const levels = [
        {
            task: 'æ§åˆ¶ğŸ¤–ç§»åŠ¨åˆ°ğŸš©å¤„ã€‚',
            hint: 'ğŸ‘‰ğŸ» æ”¾ç½®é€šé“å…ƒä»¶è®©æœºå™¨äººæœç®­å¤´æ–¹å‘ç§»åŠ¨ã€‚',
            size: 5,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: true,
                }, {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: true,
                }
            ],
            units: [
                6, 7
            ],
        },
        {
            task: 'åªæ¥å—ä»¥ğŸ”µå¼€å¤´çš„é˜Ÿåˆ—ã€‚',
            hint: 'ğŸ‘‰ğŸ» è·å¾—æ–°å…ƒä»¶ã€æ¯”è¾ƒå™¨ã€‘ã€‚ã€æ¯”è¾ƒå™¨ã€‘æ ¹æ®åºåˆ—å¼€å¤´å…ƒç´ çš„é¢œè‰²å†³å®šæœºå™¨äººç§»åŠ¨æ–¹å‘ï¼Œå¦‚æœå¼€å¤´å…ƒç´ é¢œè‰²ä¸ç¬¦åˆï¼Œåˆ™æœºå™¨äººæ²¿å¼§å½¢æ–¹å‘ç§»åŠ¨ã€‚',
            size: 5,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
            ],
            units: [
                5, 6, 7
            ],
        },
        {
            task: 'æ¥å—ä¸‰ä¸ªåŠä»¥ä¸ŠğŸ”µæ•°é‡çš„é˜Ÿåˆ—ã€‚',
            hint: 'ğŸ‘‰ğŸ» ã€æ¯”è¾ƒå™¨ã€‘ç”¨æ¥åšé€»è¾‘åˆ†æ”¯æ˜¯éå¸¸åˆé€‚çš„ã€‚',
            size: 7,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: '', // åºåˆ—
                    accept: false,
                },
            ],
            units: [
                5, 6, 7
            ],
        },
        {
            task: 'é˜Ÿåˆ—é‡Œä¸èƒ½å‡ºç°ğŸ”´ã€‚',
            hint: 'ğŸ‘‰ğŸ» ç”¨ã€æ¯”è¾ƒå™¨ã€‘æ£€æŸ¥ğŸ”´å³é€€å‡ºã€‚',
            size: 5,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                5, 6, 7
            ],
        },
        {
            task: 'é˜Ÿåˆ—é‡Œä¸èƒ½å‡ºç°ä¸åŒé¢œè‰²çš„çƒã€‚',
            hint: 'ğŸ‘‰ğŸ» ç”¨ã€æ¯”è¾ƒå™¨ã€‘æ£€æŸ¥ä¸åŒé¢œè‰²å³é€€å‡ºã€‚',
            size: 7,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                5, 6, 7
            ],
        },
        {
            task: 'é˜Ÿåˆ—å¿…é¡»ä»¥ğŸ”µğŸ”µç»“å°¾ã€‚',
            hint: 'ğŸ‘‰ğŸ» æŠ€å·§æ˜¯ç”¨ã€æ¯”è¾ƒå™¨ã€‘æ„é€ å‡ºå¾ªç¯ç»“æ„ã€‚',
            size: 7,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: '', // åºåˆ—
                    accept: false,
                },
            ],
            units: [
                5, 6, 7
            ],
        },
        {
            task: 'é˜Ÿåˆ—å¼€å¤´å’Œç»“å°¾çš„çƒé¢œè‰²å¿…é¡»ç›¸åŒã€‚',
            hint: 'ğŸ‘‰ğŸ» è¿™å…³æœ‰ç‚¹æŒ‘æˆ˜ï¼Œä»”ç»†æ€è€ƒä¸€ä¸‹ã€‚é¡ºä¾¿è¯´ä¸€ä¸‹é€šé“å¯ä»¥äº¤å‰ï¼ŒğŸ¤–ä¼šä¼˜å…ˆèµ°ç›´çº¿ã€‚',
            size: 9,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                5, 6, 7
            ],
        },
        {
            task: 'ğŸ¤–èµ°åˆ°ğŸš©ï¼Œå°†åºåˆ—çš„ç¬¬ä¸€ä¸ªçƒç§»åˆ°æœ«å°¾ï¼Œå…¶ä»–ä¸å˜ã€‚',
            hint: 'ğŸ‘‰ğŸ» è¿™å…³æ–°å¢é¢œè‰²é€šé“å…ƒä»¶ï¼Œæœºå™¨äººé€šè¿‡é€šé“ä¼šåœ¨åºåˆ—æœ«å°¾æ·»åŠ é€šé“é¢œè‰²çš„å°çƒã€‚',
            size: 5,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”´ğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”µğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´',
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µ',
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                3, 4, 5, 6, 7
            ],
        },
        {
            task: 'ğŸ¤–èµ°åˆ°ğŸš©ï¼Œå°†é˜Ÿåˆ—çš„ğŸ”´æ›¿æ¢æˆğŸŸ¡ï¼ŒğŸ”µæ›¿æ¢æˆğŸŸ¢',
            hint: 'ğŸ‘‰ğŸ» åˆ©ç”¨é¢œè‰²é€šé“å’Œã€æ¯”è¾ƒå™¨ã€‘æ„æˆå¾ªç¯ä½“ã€‚',
            size: 5,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸŸ¢ğŸŸ¢ğŸŸ¡',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸŸ¢ğŸŸ¡ğŸŸ¢ğŸŸ¢',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸŸ¢ğŸŸ¢ğŸŸ¢',
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸŸ¡ğŸŸ¢ğŸŸ¡ğŸŸ¢ğŸŸ¡',
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: 'ğŸŸ¡',
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: 'ğŸŸ¢',
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 5, 6, 7
            ],
        },
        {
            task: 'ğŸ¤–èµ°åˆ°ğŸš©ï¼Œåœ¨åŸé˜Ÿåˆ—é˜Ÿé¦–åŠ ä¸€ä¸ªğŸŸ¡ï¼Œé˜Ÿå°¾åŠ ä¸€ä¸ªğŸŸ¢ã€‚',
            hint: 'ğŸ‘‰ğŸ» åˆ©ç”¨é¢œè‰²é€šé“å’Œã€æ¯”è¾ƒå™¨ã€‘æ„æˆå¾ªç¯ä½“ã€‚',
            size: 7,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸŸ¡ğŸ”µğŸ”µğŸ”´ğŸŸ¢',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸŸ¡ğŸ”µğŸ”´ğŸ”µğŸ”µğŸŸ¢',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸŸ¡ğŸ”µğŸ”µğŸ”µğŸŸ¢',
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸŸ¡ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸŸ¢',
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: 'ğŸŸ¡ğŸ”´ğŸŸ¢',
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: 'ğŸŸ¡ğŸ”µğŸŸ¢',
                },
                {
                    data: '', // åºåˆ—
                    accept: 'ğŸŸ¡ğŸŸ¢',
                },
            ],
            units: [
                0, 1, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'å¦‚æœæŠŠğŸ”µå½“åš1ï¼ŒğŸ”´å½“åš0ï¼Œæ¥å—å¥‡æ•°çš„äºŒè¿›åˆ¶ä¸²ã€‚',
            hint: 'ğŸ‘‰ğŸ» ä¿è¯æœ€åä¸€ä¸ªçƒæ˜¯è“è‰²å°±å¯ä»¥ã€‚',
            size: 7,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: '', // åºåˆ—
                    accept: false,
                },
            ],
            units: [
                5, 6, 7
            ],
        },
        {
            task: 'å¦‚æœæŠŠğŸ”µå½“åš1ï¼ŒğŸ”´å½“åš0ï¼Œå°†åŸæ•°ä¹˜ä»¥8ã€‚',
            hint: 'ğŸ‘‰ğŸ» è¯•è¯•åœ¨åºåˆ—æœ«å°¾æ·»åŠ ä¸‰ä¸ª0å§ã€‚',
            size: 7,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”´ğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´ğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”´ğŸ”´ğŸ”´',
                },
            ],
            units: [
                3, 4, 5, 6, 7
            ],
        },
        {
            task: 'å¦‚æœæŠŠğŸ”µå½“åš1ï¼ŒğŸ”´å½“åš0ï¼Œæ¥å—å¤§äº15çš„äºŒè¿›åˆ¶æ•°ã€‚',
            hint: 'ğŸ‘‰ğŸ» è¿™å…³æœ‰ç‚¹ç»•ï¼Œä»”ç»†æƒ³æƒ³ï¼Œæƒ³å¯¹æ€è·¯åˆ™ä¸éš¾ã€‚',
            size: 11,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”´ğŸ”´ğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: '', // åºåˆ—
                    accept: false,
                },
            ],
            units: [
                5, 6, 7
            ],
        },
        {
            task: 'å¦‚æœæŠŠğŸ”µå½“åš1ï¼ŒğŸ”´å½“åš0ï¼Œæ¥å—4çš„å¹‚çš„äºŒè¿›åˆ¶æ•°ã€‚',
            hint: 'ğŸ‘‰ğŸ» çœŸæ­£çš„è€ƒéªŒæ¥äº†ï¼Œä»”ç»†æƒ³æƒ³ï¼Œæœ‰å·§å¦™çš„åŠæ³•ã€‚',
            size: 9,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”´ğŸ”´ğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”´ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'å¦‚æœåºåˆ—æ˜¯è‹¥å¹²ğŸ”µï¼Œä¹‹åç›¸ç­‰æ•°é‡ğŸ”´ï¼Œåˆ™æ¥å—ã€‚',
            hint: 'ğŸ‘‰ğŸ» æœ‰ç‚¹éš¾ï¼Œå¿…é¡»å·§ç”¨ğŸŸ¡ğŸŸ¢æ§åˆ¶ã€‚',
            size: 9,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”´ğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”´ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”´ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'å¦‚æœğŸ”µçš„æ•°é‡å’ŒğŸ”´çš„æ•°é‡ç›¸ç­‰ï¼Œåˆ™æ¥å—ã€‚',
            hint: 'ğŸ‘‰ğŸ» è¯€çªæ˜¯å·§å¦™åœ°ä¸€ä¸ªä¸€ä¸ªæ¯”è¾ƒã€‚',
            size: 11,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”´ğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”´ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”´ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'ä»»æ„XğŸ”µXğŸ”´ï¼Œå†XğŸ”µï¼Œåˆ™æ¥å—ã€‚',
            hint: 'ğŸ‘‰ğŸ» è¿™ä¸ªå¾ˆéš¾ï¼Œè¿˜æ˜¯å¾—ç”¨å¥½ğŸŸ¢ğŸŸ¡æ ‡è®°ã€‚',
            size: 11,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”´ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”´ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'ğŸ¤–èµ°åˆ°ğŸš©ï¼Œå°†é˜Ÿåˆ—çš„ğŸ”´å’ŒğŸ”µäº’æ¢',
            hint: 'ğŸ‘‰ğŸ» è¿™å…³ä¸éš¾ï¼Œä½†ä½ èƒ½ç”¨å°½é‡å°‘çš„å…ƒä»¶è§£å†³å—ï¼Ÿ',
            size: 5,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”´ğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”µğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µ',
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µ',
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”´',
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'ğŸ¤–èµ°åˆ°ğŸš©ï¼Œåˆ æ‰æ‰€æœ‰çš„ğŸ”´ï¼Œä¿ç•™ğŸ”µ',
            hint: 'ğŸ‘‰ğŸ» è¿™å…³ä¸éš¾ï¼Œä½†ä½ èƒ½ç”¨å°½é‡å°‘çš„å…ƒä»¶è§£å†³å—ï¼Ÿ',
            size: 5,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: '',
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µ',
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'ğŸ¤–èµ°åˆ°ğŸš©ï¼Œå°†åºåˆ—ä¸­çš„æœ€åä¸€ä¸ªçƒç§»åŠ¨åˆ°åºåˆ—å¤´éƒ¨ã€‚',
            hint: 'ğŸ‘‰ğŸ» ä½ ä¼šç”¨å†’æ³¡æ’åºå—ï¼ŸåŸç†ç±»ä¼¼ï¼Ÿ',
            size: 11,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”´ğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”µ',
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´',
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µ',
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´ğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´',
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'è‹¥ğŸ”µæ•°é‡å¤šäºğŸ”´ï¼Œåˆ™æ¥å—ã€‚',
            hint: 'ğŸ‘‰ğŸ» å­¦ä¼šç†Ÿç»ƒè¿ç”¨å¾ªç¯ï¼Œä½ å°±èƒ½å¾ˆå®¹æ˜“è§£å†³è¿™ç±»é—®é¢˜äº†ã€‚',
            size: 9,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: '', // åºåˆ—
                    accept: false,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'åªæ¥å—å›æ–‡ä¸²åºåˆ—ã€‚',
            hint: 'ğŸ‘‰ğŸ» å¯ä»¥å»ºç«‹å¾ªç¯ï¼Œä¸€æ¬¡ä¸€æ¬¡æ¯”è¾ƒã€‚',
            size: 9,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'è‹¥ğŸ”µæ•°é‡æ°å¥½æ˜¯ğŸ”´çš„ä¸¤å€ï¼Œåˆ™æ¥å—ã€‚',
            hint: 'ğŸ‘‰ğŸ» å¯ä»¥å»ºç«‹å¾ªç¯ï¼Œä¸€æ¬¡ä¸€æ¬¡æ¯”è¾ƒã€‚',
            size: 9,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: false,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: true,
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: false,
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'åºåˆ—é™å®šä¸ºMğŸ”µNğŸ”´ï¼ŒMã€Nä¸ºæ•´æ•°ï¼Œè‹¥Må¤§äºNåˆ™è¾“å‡ºMğŸ”µï¼Œå¦åˆ™è¾“å‡ºNğŸ”´ã€‚',
            hint: 'ğŸ‘‰ğŸ» è¿™å…³éœ€è¦åŠ¨åŠ¨è„‘ç­‹ã€‚',
            size: 9,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µ',
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”´ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”´ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”´ğŸ”´ğŸ”´',
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'å¯¹ä»»æ„åºåˆ—è¿›è¡Œæ’åºï¼Œå°†æ‰€æœ‰çš„ğŸ”µæ’åœ¨ğŸ”´ä¹‹å‰ã€‚',
            hint: 'ğŸ‘‰ğŸ» å®ç°æ’åºç®—æ³•ã€‚',
            size: 9,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”´',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”µğŸ”´',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µ',
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µğŸ”´ğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”µğŸ”´ğŸ”µğŸ”µğŸ”´ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”´ğŸ”´',
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
        {
            task: 'å¤åˆ¶ä»»æ„åºåˆ—ï¼Œå°†å®ƒå®Œå…¨å¤åˆ¶åè¿½åŠ åˆ°å®ƒè‡ªèº«çš„æœ«å°¾ã€‚',
            hint: 'ğŸ‘‰ğŸ» ç”¨å¾ªç¯å¯å®ç°ã€‚',
            size: 13,
            tests: [ // æµ‹è¯•åºåˆ—
                {
                    data: 'ğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”µğŸ”µğŸ”´ğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”´ğŸ”µğŸ”µğŸ”µğŸ”´ğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”´ğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”µğŸ”´ğŸ”´ğŸ”µğŸ”´',
                },
                {
                    data: 'ğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”µ',
                },
                {
                    data: 'ğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”´',
                },
                {
                    data: 'ğŸ”µğŸ”´ğŸ”µğŸ”µğŸ”´ğŸ”µ', // åºåˆ—
                    accept: 'ğŸ”µğŸ”´ğŸ”µğŸ”µğŸ”´ğŸ”µğŸ”µğŸ”´ğŸ”µğŸ”µğŸ”´ğŸ”µ',
                },
                {
                    data: 'ğŸ”´ğŸ”µğŸ”µğŸ”´', // åºåˆ—
                    accept: 'ğŸ”´ğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”µğŸ”µğŸ”´',
                },
                {
                    data: '', // åºåˆ—
                    accept: true,
                },
            ],
            units: [
                0, 1, 2, 3, 4, 5, 6, 7
            ],
        },
    ];

    let currentLevel;
    function loadLevel(level) {
        const data = levels[level];
        currentLevel = {
            ...data,
            level,
        };
        taskInfo.innerHTML = `<p>ä»»åŠ¡ï¼š${data.task}</p><p>æç¤ºï¼š${data.hint}</p>`;
        const items = document.querySelectorAll('.buttons > div');
        for(let i = 0; i < items.length; i++) {
            if(!data.units.includes(i)) {
                items[i].classList.add('hide');
            } else {
                items[i].classList.remove('hide');
            }
        }
        setDataList([...data.tests[0].data]);

        const board = new Array(169);
        board.fill(-1);

        const size = data.size || 13;
        const v = (13 - size) / 2;
        const range = [
            v, v,
            v + size, v + size,
        ];

        const [a, b, c, d] = range;
        for(let i = a; i < c; i++) {
            for(let j = b; j < d; j++) {
                const idx = i * 13 + j;
                board[idx] = 0;
            }
        }

        const s = v + Math.floor(size / 2);
        const start = v * 13 + s;
        const end = (v + size - 1) * 13 + s;
        board[start] = 1;
        board[end] = 2;
        init(board);

        const savedData = localStorage.getItem(`manufactoria-level-${level}`);
        if(savedData) {
            const data = JSON.parse(savedData);
            for(let i = 0; i < data.cells.length; i++) {
                const cell = data.cells[i];
                const el = document.createElement('div');
                el.className = cell.state;
                el.dataset.turn = cell.turn;
                el.dataset.flip = cell.flip;
                app.children[cell.idx].appendChild(el);
            }
        }
        setRobot();

        return currentLevel;
    }

    // è¿è¡Œ
    async function run() {
        levelPicker.disabled = true;
        const tests = currentLevel.tests;
        initResult();

        for(let i = 0; i < tests.length; i++) {
            const {data, accept} = tests[i];
            setDataList([...data]);

            setRobot();
            await sleep();
            await moveRobot('down');

            while(true) {
                if(main.className !== 'running') break;
                const state = checkState();
                if(state.direction) {
                    if(state.type === 'comparator' && state.data) {
                        await Promise.all([
                            moveRobot(state.direction),
                            popData(),
                        ]);
                    } else {
                        await moveRobot(state.direction);
                        if(state.effect) {
                            appendData(state.effect);
                        }
                    }
                } else {
                    break;
                }
            }
            if(main.className !== 'running') break;

            const cell = getRobotCell();

            if(accept === true) {
                appendResult(cell.className === 'flag');
            } else if(typeof accept === 'string') {
                if(cell.className !== 'flag') {
                    appendResult(false);
                } else {
                    appendResult(accept === getIOData());
                }
            } else {
                appendResult(cell.className !== 'flag');
            }
            await sleep(500);
        }
        runBtn.className = 'btn';
        runBtn.disabled = false;
        if(main.className === 'running') {
            const success = !result.textContent.includes('E');
            const el = document.createElement('span');
            el.innerHTML = success? 'ï¼šæˆåŠŸ':'ï¼šå¤±è´¥';
            if(success) el.className = 'accept';
            result.appendChild(el);
            setDataList([]);
        }
        main.className = '';
        levelPicker.disabled = false;
        setRobot();
    }

    // æŠŠæ•°æ®ä¿å­˜åˆ°æœ¬åœ°
    function saveLevel() {
        const {level} = currentLevel;
        const data = {level, cells: []};
        const cells = app.children;
        for(let i = 0; i < 169; i++) {
            const cell = cells[i];
            if(cell.children.length) {
                for(let j = 0; j < cell.children.length; j++) {
                    const item = cell.children[j];
                    const d = {
                        state: item.className,
                        turn: item.dataset.turn,
                        flip: item.dataset.flip,
                        idx: Number(cell.dataset.x) * 13 + Number(cell.dataset.y),
                    };
                    data.cells.push(d);
                }
            }
        }
        localStorage.setItem(`manufactoria-level-${level}`, JSON.stringify(data));
    }

    enablePicker(); // set once

    function initLevelPicker() {
        const len = levels.length;
        levelPicker.innerHTML = '';
        for(let i = 0; i < len; i++) {
            const option = new Option(i + 1, i);
            levelPicker.appendChild(option);
        }
        levelPicker.addEventListener('change', () => {
            loadLevel(levelPicker.value);
        });
        loadLevel(levelPicker.value);
    }

    initLevelPicker();


</script>
</html>